!function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(o,r,function(t){return e[t]}.bind(null,r));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=19)}([function(e,t){!function(){e.exports=this.wp.i18n}()},function(e,t){!function(){e.exports=this.wp.element}()},function(e,t){!function(){e.exports=this.wp.components}()},function(e){e.exports=JSON.parse('{"number":{"type":"number","default":10},"columns":{"type":"number","default":1},"sticky":{"type":"boolean","default":false},"type":{"type":"string","default":"post"},"taxonomy":{"type":"string","default":""},"term":{"type":"array","default":[],"items":{"type":"number"}},"filter":{"type":"boolean","default":false},"filterBy":{"type":"string","default":""},"filterType":{"type":"string","default":"is"},"filterValue":{"type":"string","default":""},"order":{"type":"string","default":"ASC"},"orderBy":{"type":"string","default":"ID"},"orderMeta":{"type":"string","default":""}}')},function(e,t,n){var o=n(13),r=n(14),l=n(7),i=n(15);e.exports=function(e){return o(e)||r(e)||l(e)||i()}},function(e,t,n){var o=n(16),r=n(17),l=n(7),i=n(18);e.exports=function(e,t){return o(e)||r(e,t)||l(e,t)||i()}},function(e,t){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}},function(e,t,n){var o=n(6);e.exports=function(e,t){if(e){if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}},function(e,t){!function(){e.exports=this.wp.blocks}()},function(e,t){!function(){e.exports=this.wp.data}()},function(e,t){!function(){e.exports=this.wp.serverSideRender}()},function(e,t){!function(){e.exports=this.wp.blockEditor}()},function(e,t){!function(){e.exports=this.wp.apiFetch}()},function(e,t,n){var o=n(6);e.exports=function(e){if(Array.isArray(e))return o(e)}},function(e,t){e.exports=function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},function(e,t){e.exports=function(e){if(Array.isArray(e))return e}},function(e,t){e.exports=function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],o=!0,r=!1,l=void 0;try{for(var i,a=e[Symbol.iterator]();!(o=(i=a.next()).done)&&(n.push(i.value),!t||n.length!==t);o=!0);}catch(e){r=!0,l=e}finally{try{o||null==a.return||a.return()}finally{if(r)throw l}}return n}}},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},function(e,t,n){"use strict";n.r(t);var o=n(0),r=n(8),l=n(1),i=n(4),a=n.n(i),u=n(5),c=n.n(u),s=n(9),f=n(10),b=n.n(f),p=n(11),d=n(2),m=[{value:"is",label:Object(o.__)("Is equal to","postie")},{value:"not",label:Object(o.__)("Is not equal to","postie")},{value:"lt",label:Object(o.__)("Is less than","postie")},{value:"gt",label:Object(o.__)("Is greater than","postie")},{value:"lte",label:Object(o.__)("Is less than or equal to","postie")},{value:"gte",label:Object(o.__)("Is greater than or equal to","postie")}],y=[{value:"ID",label:Object(o.__)("ID","postie")},{value:"date",label:Object(o.__)("Publish Date","postie")},{value:"modified",label:Object(o.__)("Modified Date","postie")},{value:"title",label:Object(o.__)("Title","postie")},{value:"name",label:Object(o.__)("Slug","postie")},{value:"menu_order",label:Object(o.__)("Menu Order","postie")},{value:"rand",label:Object(o.__)("Random","postie")},{value:"meta",label:Object(o.__)("Custom Field","postie")}],_=[{value:"ASC",label:Object(o.__)("Ascending","postie")},{value:"DESC",label:Object(o.__)("Descending","postie")}],O=n(12),j=n.n(O);function v(e){return j()({path:"/postie/".concat(e)})}function g(e){return new URLSearchParams(e).toString()}var h=n(3);Object(r.registerBlockType)("lambry/postie",{icon:function(){return Object(l.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},Object(l.createElement)("path",{"fill-rule":"evenodd",d:"M11,4 L4,4 L4,20 L11,20 L11,10 L4,10 L4,8 L11,8 L11,4 Z M13,4 L13,14 L20,14 L20,16 L13,16 L13,20 L20,20 L20,4 L13,4 Z M4,2 L20,2 C21.1045695,2 22,2.8954305 22,4 L22,20 C22,21.1045695 21.1045695,22 20,22 L4,22 C2.8954305,22 2,21.1045695 2,20 L2,4 C2,2.8954305 2.8954305,2 4,2 Z"}))},title:Object(o.__)("Postie","postie"),description:Object(o.__)("Posts, pages and custom types.","postie"),attributes:h,category:"widgets",supports:{align:!0,html:!1},edit:function(e){var t=e.attributes,n=e.setAttributes,r=t.number,i=t.columns,u=t.sticky,f=t.type,O=t.taxonomy,j=t.term,x=t.filter,C=t.filterBy,S=t.filterType,E=t.filterValue,w=t.order,L=t.orderBy,T=t.orderMeta,I=Object(s.useSelect)((function(e){return e("core").getPostTypes()}))||[],M=Object(l.useState)([]),P=c()(M,2),A=P[0],B=P[1],k=Object(l.useState)([]),F=c()(k,2),D=F[0],R=F[1],q=Object(l.useState)([]),V=c()(q,2),Z=V[0],N=V[1];return Object(l.useEffect)((function(){f&&v("taxonomies/".concat(f)).then(B),O&&v("terms/".concat(O)).then(R),("meta"===L||x)&&v("fields/?".concat(g(t))).then(N)}),[]),Object(l.createElement)(l.Fragment,null,Object(l.createElement)(p.InspectorControls,null,Object(l.createElement)(d.PanelBody,{title:Object(o.__)("Display","postie")},Object(l.createElement)(d.RangeControl,{min:1,max:100,label:Object(o.__)("Number","postie"),value:r,onChange:function(e){return n({number:e})}}),Object(l.createElement)(d.RangeControl,{min:1,max:6,label:Object(o.__)("Columns","postie"),value:i,onChange:function(e){return n({columns:e})}}),"page"!==f&&Object(l.createElement)(d.ToggleControl,{label:Object(o.__)("Include sticky posts","postie"),checked:u,onChange:function(){return n({sticky:!u})}})),Object(l.createElement)(d.PanelBody,{title:Object(o.__)("Source","postie")},Object(l.createElement)(d.SelectControl,{label:Object(o.__)("Post Type","postie"),value:f,options:I.map((function(e){return{label:e.name,value:e.slug}})),onChange:function(e){return function(e){n({type:e,term:h.term.default,taxonomy:h.taxonomy.default}),v("taxonomies/".concat(e)).then(B)}(e)}}),f&&!!A.length&&Object(l.createElement)(d.SelectControl,{label:Object(o.__)("Taxonomy","postie"),value:O,options:[{label:Object(o.__)("Select taxonomy","postie"),value:""}].concat(a()(A)),onChange:function(e){return function(e){if(n({taxonomy:e,term:h.term.default}),!e)return R([]);v("terms/".concat(e)).then(R)}(e)}}),O&&!!D.length&&Object(l.createElement)(d.FormTokenField,{label:Object(o.__)("Terms","postie"),value:j.map((function(e){var t;return{id:e,value:null===(t=D.find((function(t){return t.id===e})))||void 0===t?void 0:t.value}})),suggestions:D.map((function(e){return e.value})),onChange:function(e){return function(e){return n({term:e.map((function(e){var t;return null===(t=D.find((function(t){var n=t.id;return t.value===e||n===e.id})))||void 0===t?void 0:t.id}))})}(e)}}),Object(l.createElement)(d.ToggleControl,{label:Object(o.__)("Filter by custom field","postie"),checked:x,onChange:function(){return x||v("fields/?".concat(g(t))).then(N),void n({filter:!x})}}),x&&Object(l.createElement)(d.SelectControl,{label:Object(o.__)("Custom Field","postie"),value:C,options:[{label:Object(o.__)("Select field","postie"),value:""}].concat(a()(Z)),onChange:function(e){return function(e){n({filterBy:e}),"string"!==e.split("::")[1]||["is","not"].includes(S)||n({filterType:"is"})}(e)}}),x&&C&&Object(l.createElement)(d.SelectControl,{label:Object(o.__)("Filter method","postie"),value:S,options:m.filter((function(e){var t=e.value;return"int"===C.split("::")[1]||["is","not"].includes(t)})),onChange:function(e){return n({filterType:e})}}),x&&C&&Object(l.createElement)(d.TextControl,{label:Object(o.__)("Filter Value","postie"),value:E,onChange:function(e){return n({filterValue:e})}})),Object(l.createElement)(d.PanelBody,{title:Object(o.__)("Order","postie")},Object(l.createElement)(d.SelectControl,{label:Object(o.__)("Order By","postie"),value:L,options:y,onChange:function(e){return function(e){n({orderBy:e}),"meta"===e?v("fields/?".concat(g(t))).then(N):n({orderMeta:h.orderMeta.default})}(e)}}),"meta"===L&&Object(l.createElement)(d.SelectControl,{label:Object(o.__)("Custom Field","postie"),value:T,options:[{label:Object(o.__)("Select field","postie"),value:""}].concat(a()(Z)),onChange:function(e){return n({orderMeta:e})}}),"rand"!==L&&Object(l.createElement)(d.SelectControl,{label:Object(o.__)("Sort Order","postie"),value:w,options:_,onChange:function(e){return n({order:e})}}))),Object(l.createElement)(b.a,{block:"lambry/postie",attributes:t}))},save:function(){return null}})}]);